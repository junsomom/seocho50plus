
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>🌼 AI 그림동화책 만들기</title>
  <style>
    body { font-family: 'Nanum Gothic', sans-serif; padding: 30px; background: #f0f8ff; }
    h1 { color: #01579b; }
    label { display: block; margin-top: 15px; font-weight: bold; }
    input, textarea, select {
      width: 100%; padding: 10px; margin-top: 5px;
      font-size: 16px; border-radius: 6px; border: 1px solid #ccc;
    }
    .example-button {
      margin-left: 10px; padding: 4px 10px;
      font-size: 14px; border-radius: 6px; border: none;
      background-color: #4caf50; color: white; cursor: pointer;
    }
    .voice-button {
      margin-left: 6px; padding: 4px 8px;
      font-size: 14px; border-radius: 50%;
      background-color: #2196f3; color: white; border: none; cursor: pointer;
    }
    button {
      margin-top: 20px; padding: 10px 20px;
      font-size: 16px; border-radius: 6px; border: none;
      cursor: pointer; background-color: #4caf50; color: white;
    }
    textarea#finalText { margin-top: 20px; height: 300px; }
    .bolded { font-weight: bold; }
  </style>
</head>
<body>
  <h1>🌼 AI 그림동화책 만들기</h1>
  <p><strong>이 그림책의 목표는 한국에 살고 있는 50대 이상의 AI 그림동화책 만들기 수업을 처음 신청하신 수강생 어르신들이 나의 소개 그림동화를 만들어서, 서로의 이야기를 나눔으로써 서로를 소개하고 같이 이해하고 친해질 수 있도록 하는 것입니다. 이 목표를 마음에 두고 이야기를 창작해주세요.</strong></p>

  <label>성함을 알려주실 수 있으실까요?
    <button class="example-button" onclick="setValue('name', '김영자')">예시</button>
    <button class="voice-button" onclick="speakText('성함을 입력해 주세요.')">🔊</button>
  </label>
  <input id="name" type="text">

  <label>성별을 선택해 주세요.</label>
  <select id="gender">
    <option>여자</option><option>남자</option>
  </select>

  <label>연세가 어느 연령대이신지 선택해 주세요.</label>
  <select id="age">
    <option>50대</option><option>60대</option><option>70대</option>
  </select>

  <label>어르신의 성격을 한두 마디로 소개해 주신다면 어떻게 표현하실 수 있을까요?
    <button class="example-button" onclick="setValue('personality', '차분하고 따뜻한 성격이에요.')">예시</button>
    <button class="voice-button" onclick="speakText('성격을 입력해 주세요.')">🔊</button>
  </label>
  <input id="personality" type="text">

  <label>좋아하시는 음식이 있으신가요? 특별히 기억에 남는 음식도 좋아요.
    <button class="example-button" onclick="setValue('food', '따뜻한 미역국')">예시</button>
    <button class="voice-button" onclick="speakText('좋아하시는 음식을 알려 주세요.')">🔊</button>
  </label>
  <input id="food" type="text">

  <label>어느 계절을 좋아하시나요? 그 이유도 함께 적어주셔도 좋습니다.
    <button class="example-button" onclick="setValue('season', '가을')">예시</button>
    <button class="voice-button" onclick="speakText('좋아하는 계절을 알려 주세요.')">🔊</button>
  </label>
  <input id="season" type="text">

  <label>어린 시절에는 어떤 꿈을 가지고 계셨는지 들려주실 수 있을까요?
    <button class="example-button" onclick="setValue('dream', '선생님이 되고 싶었어요')">예시</button>
    <button class="voice-button" onclick="speakText('어릴 적 꿈을 말씀해 주세요.')">🔊</button>
  </label>
  <input id="dream" type="text">

  <label>지금 마음속에 품고 계신 소망이나 바람이 있으시다면 무엇인가요?
    <button class="example-button" onclick="setValue('wish', '그림책 작가가 되고 싶어요')">예시</button>
    <button class="voice-button" onclick="speakText('지금의 소망을 말씀해 주세요.')">🔊</button>
  </label>
  <input id="wish" type="text">

  <label>자신의 모습을 간단히 묘사해 주신다면 어떻게 표현하시겠어요? (예: 머리 모양, 인상 등)
    <button class="example-button" onclick="setValue('appearance', '60대 한국 여성, 짧은 단발머리, 부드러운 인상')">예시</button>
    <button class="voice-button" onclick="speakText('외모를 묘사해 주세요.')">🔊</button>
  </label>
  <textarea id="appearance"></textarea>

  <label>어르신께서 좋아하시는 그림 스타일을 골라 주세요.</label>
  <select id="style">
    <option>디즈니 스타일</option>
    <option>지브리 스타일</option>
    <option>연필 소묘 스타일</option>
    <option>수채화 스타일</option>
  </select>

  <button onclick="generateStory()">📖 동화책 만들기</button>

  <textarea id="finalText" readonly></textarea><br>
  <button onclick="copyToClipboard()">📋 복사하기</button>
  <a href="https://chat.openai.com/" target="_blank"><button>🤖 ChatGPT로 이동</button></a>
  <button onclick="downloadText()">💾 텍스트 파일 저장</button>

<script>
function setValue(id, value) {
  const el = document.getElementById(id);
  el.value = value;
  el.classList.add("bolded");
}

function speakText(text) {
  const synth = window.speechSynthesis;
  const utter = new SpeechSynthesisUtterance(text);
  utter.lang = 'ko-KR';
  synth.speak(utter);
}

function generateStory() {
  const name = document.getElementById('name').value;
  const gender = document.getElementById('gender').value;
  const age = document.getElementById('age').value;
  const personality = document.getElementById('personality').value;
  const food = document.getElementById('food').value;
  const season = document.getElementById('season').value;
  const dream = document.getElementById('dream').value;
  const wish = document.getElementById('wish').value;
  const style = document.getElementById('style').value;
  const appearance = document.getElementById('appearance').value;

  const story =
`📘 나의 시작
저는 $${age}의 $${gender} $${name}입니다. $${food}을(를) 좋아하던 아이였지요.
[이미지 프롬프트] $${appearance}, $${style}, page 1

📘 성격과 계절
저는 $${personality} 성격을 가졌고 $${season}을 좋아해요.
[이미지 프롬프트] $${appearance}, $${style}, page 2

📘 어린 시절의 꿈
어릴 적 꿈은 $${dream}였어요.
[이미지 프롬프트] $${appearance}, $${style}, page 3

📘 지금의 나
지금은 $${wish}라는 새로운 꿈을 꾸고 있어요.
[이미지 프롬프트] $${appearance}, $${style}, page 4

📘 앞으로의 다짐
저의 이야기는 끝나지 않았어요. 꿈을 향해 따뜻하게 걸어갑니다.
[이미지 프롬프트] $${appearance}, $${style}, page 5`;

  document.getElementById('finalText').value = story
    .replaceAll("$${name}", name)
    .replaceAll("$${gender}", gender)
    .replaceAll("$${age}", age)
    .replaceAll("$${personality}", personality)
    .replaceAll("$${food}", food)
    .replaceAll("$${season}", season)
    .replaceAll("$${dream}", dream)
    .replaceAll("$${wish}", wish)
    .replaceAll("$${appearance}", appearance)
    .replaceAll("$${style}", style);
}

function copyToClipboard() {
  const textArea = document.getElementById('finalText');
  textArea.select();
  document.execCommand("copy");
  alert("동화책 내용이 복사되었습니다. ChatGPT에 붙여넣어 보세요!");
}

function downloadText() {
  const text = document.getElementById('finalText').value;
  const blob = new Blob([text], { type: 'text/plain;charset=utf-8' });
  const link = document.createElement('a');
  link.href = URL.createObjectURL(blob);
  link.download = '나의_그림동화책.txt';
  link.click();
}
</script>
</body>
</html>
