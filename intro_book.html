<script>
  function insertExample(id, value) {
    const el = document.getElementById(id);
    el.value = value;
    el.style.fontWeight = 'bold';
  }

  document.getElementById('downloadBtn').addEventListener('click', function () {
    const name = document.getElementById('name').value.trim();
    const age = document.querySelector('input[name="age"]:checked')?.value || '';
    const gender = document.getElementById('gender').value;
    const personality = document.getElementById('personality').value.trim();
    const dream = document.getElementById('dream').value.trim();
    const style = document.getElementById('style').value;

    let content = "ğŸŒ ì–´ë¥´ì‹  ìˆ˜ì—…ì„ ìœ„í•œ ìê¸° ì†Œê°œ ê·¸ë¦¼ ë™í™”ì±… ì°½ì‘ ì§€ì¹¨ì„œ\n\n";
    content += "ì´ ê·¸ë¦¼ì±…ì˜ ëª©í‘œëŠ” AIë¥¼ ì´ìš©í•œ ê·¸ë¦¼ë™í™”ì±… ë§Œë“¤ê¸° ìˆ˜ì—…ì— ì°¸ì—¬í•˜ëŠ” ì–´ë¥´ì‹ ë“¤ì´ ë‚˜ë¥¼ í‘œí˜„í•˜ê³  ì†Œê°œí•˜ëŠ” ê·¸ë¦¼ë™í™”ì±…ì„ ë§Œë“œëŠ” ê²ƒì…ë‹ˆë‹¤. ì´ ëª©í‘œë¥¼ ë§ˆìŒì— ë‘ê³  ì´ì•¼ê¸°ë¥¼ ì°½ì‘í•´ ì£¼ì„¸ìš”.\n\n";
    content += "1. ë‚˜ì˜ ì´ë¦„ì€\në‚˜ì˜ ì´ë¦„ì€ " + name + "ì…ë‹ˆë‹¤.\n\n";
    content += "2. ë‚˜ì˜ ì—°ë ¹ëŒ€ëŠ”\në‚˜ëŠ” " + age + "ì…ë‹ˆë‹¤.\n\n";
    content += "3. ë‚˜ì˜ ì„±ë³„ì€\në‚˜ëŠ” " + gender + "ì…ë‹ˆë‹¤.\n\n";
    content += "4. ë‚˜ì˜ ì„±ê²©ì€\n" + personality + "\n\n";
    content += "5. ì–´ë¦´ ì  ê¿ˆì´ë‚˜ ìš”ì¦˜ ë°”ë¼ëŠ” ê²ƒì€\n" + dream + "\n\n";
    content += "6. ë‚´ê°€ ì›í•˜ëŠ” ê·¸ë¦¼ ìŠ¤íƒ€ì¼ì€\n" + style + " ìŠ¤íƒ€ì¼ì…ë‹ˆë‹¤.\n\n";

    const prompts = [
      ["í‘œì§€", "ë°ì€ ë¶„ìœ„ê¸°ì˜ í‘œì§€. ì£¼ì¸ê³µì´ í™˜í•˜ê²Œ ì›ƒìœ¼ë©° ì •ë©´ì„ ë°”ë¼ë³´ëŠ” ì¥ë©´. ë°°ê²½ì€ ë”°ëœ»í•œ ë¹›ê³¼ ìì—°.", "Cover scene with the main character smiling warmly toward the front. Background is natural and sunny."],
      ["1í˜ì´ì§€", "ì–´ë¦´ ì  ëª¨ìŠµì„ íšŒìƒí•˜ëŠ” ì¥ë©´. ì£¼ì¸ê³µì´ ì±…ìƒ ì•ì— ì•‰ì•„ ê¿ˆì„ ê¾¸ëŠ” ëª¨ìŠµ.", "The main character as a child dreaming at a desk, recalling their childhood dream."],
      ["2í˜ì´ì§€", "ì§€ê¸ˆì˜ ë‚´ ëª¨ìŠµ. ë°ì€ ê³µê°„ì—ì„œ ì›ƒê³  ìˆëŠ” ì¥ë©´.", "Current self of the character smiling in a bright room."],
      ["3í˜ì´ì§€", "ë‚´ê°€ ì¢‹ì•„í•˜ëŠ” ì¼ì„ í•˜ê³  ìˆëŠ” ì¥ë©´.", "The character doing something they love."],
      ["4í˜ì´ì§€", "ë§ˆë¬´ë¦¬ ì¥ë©´. í‰í™”ë¡­ê²Œ ì•‰ì•„ ìˆëŠ” ëª¨ìŠµ, ë”°ëœ»í•œ ë°°ê²½.", "Closing scene with the character sitting peacefully in a warm setting."]
    ];

    prompts.forEach(([label, korDesc, engDesc]) => {
      content += `ğŸ–¼ï¸ ${label} ì´ë¯¸ì§€ í”„ë¡¬í”„íŠ¸ (í•œê¸€)\n${age} ${gender} ì£¼ì¸ê³µ, ${personality} ì„±ê²©, ì§§ì€ ë¨¸ë¦¬, ë‹¨ì •í•œ ë³µì¥. ${korDesc} ${style} ìŠ¤íƒ€ì¼ë¡œ.\n\n`;
      content += `ğŸ–¼ï¸ ${label} Image Prompt (English)\nA ${personality} Korean ${gender === 'ì—¬ì' ? 'woman' : 'man'} in their ${age}, with short hair, neat outfit. ${engDesc} Illustrated in ${style} style.\n\n`;
    });

    const blob = new Blob([content], { type: 'text/plain' });
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = 'intro_book.txt';
    a.click();
  });
</script>

<style>
  .example-button {
    margin-left: 10px;
    font-size: 14px;
    padding: 4px 10px;
    background-color: #fff3cd;
    border: 1px solid #ccc;
    border-radius: 6px;
    cursor: pointer;
  }
</style>

<!-- ì•„ë˜ëŠ” ê° ì§ˆë¬¸ ì…ë ¥ í¼ì— ì˜ˆì‹œ ë²„íŠ¼ì„ ì—°ê²°í•˜ëŠ” ë¶€ë¶„ (HTML ë³¸ë¬¸ ë‚´ì— ì‚½ì…) -->
<!-- ì˜ˆì‹œ -->
<label for="name">1. ë‚˜ì˜ ì´ë¦„ì€ ë¬´ì—‡ì¸ê°€ìš”?
  <button class="example-button" onclick="insertExample('name', 'ê¹€ì˜ì')">ì˜ˆì‹œ ë³´ê¸°</button>
</label>
<input type="text" id="name" placeholder="ì˜ˆ: ê¹€ì˜ì">

<label>2. ë‚˜ëŠ” ëª‡ ì‚´ì¸ê°€ìš”?</label>
<!-- ê¸°ì¡´ ì—°ë ¹ëŒ€ ë¼ë””ì˜¤ ë²„íŠ¼ ìœ ì§€ -->

<label for="gender">3. ë‚˜ì˜ ì„±ë³„ì€ ë¬´ì—‡ì¸ê°€ìš”?
  <button class="example-button" onclick="insertExample('gender', 'ì—¬ì')">ì˜ˆì‹œ ë³´ê¸°</button>
</label>
<select id="gender">
  <option value="">ì„ íƒí•˜ì„¸ìš”</option>
  <option value="ì—¬ì">ì—¬ì</option>
  <option value="ë‚¨ì">ë‚¨ì</option>
</select>

<label for="personality">4. ë‚˜ì˜ ì„±ê²©ì€ ì–´ë–¤ê°€ìš”?
  <button class="example-button" onclick="insertExample('personality', 'ì°¨ë¶„í•˜ê³  ë”°ëœ»í•˜ë©°, ì‚¬ëŒë“¤ê³¼ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤.')">ì˜ˆì‹œ ë³´ê¸°</button>
</label>
<input type="text" id="personality" placeholder="ì˜ˆ: ì°¨ë¶„í•˜ê³  ë”°ëœ»í•´ìš”.">

<label for="dream">5. ì–´ë¦´ ì  ê¿ˆì´ë‚˜ ìš”ì¦˜ ë°”ë¼ëŠ” ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?
  <button class="example-button" onclick="insertExample('dream', 'ì–´ë¦´ ì ì—ëŠ” ì„ ìƒë‹˜ì´ ë˜ê³  ì‹¶ì—ˆê³ , ìš”ì¦˜ì€ ê·¸ë¦¼ì±… ì‘ê°€ê°€ ë˜ê³  ì‹¶ì–´ìš”.')">ì˜ˆì‹œ ë³´ê¸°</button>
</label>
<textarea id="dream" rows="3" placeholder="ì˜ˆ: ì„ ìƒë‹˜ì´ ë˜ê³  ì‹¶ì—ˆì–´ìš”. ìš”ì¦˜ì€ ê·¸ë¦¼ì±… ì‘ê°€ê°€ ë˜ê³  ì‹¶ì–´ìš”."></textarea>

<label for="style">6. ê·¸ë¦¼ ìŠ¤íƒ€ì¼ì„ ê³¨ë¼ì£¼ì„¸ìš”</label>
<select id="style">
  <option value="">ì„ íƒí•˜ì„¸ìš”</option>
  <option value="ì§€ë¸Œë¦¬">ì§€ë¸Œë¦¬</option>
  <option value="ë””ì¦ˆë‹ˆ">ë””ì¦ˆë‹ˆ</option>
  <option value="ì¼€ì´íŠ¸ ê·¸ë¦°ì–´ì›¨ì´">ì¼€ì´íŠ¸ ê·¸ë¦°ì–´ì›¨ì´</option>
  <option value="í¬ë¦¬ìŠ¤ ë¼ìŠ¤ì¹´">í¬ë¦¬ìŠ¤ ë¼ìŠ¤ì¹´</option>
  <option value="ì†Œí”¼ ë¸”ë™ì˜¬">ì†Œí”¼ ë¸”ë™ì˜¬</option>
</select>

